{%
const title = 'thoughts'
const description = 'random notes and thoughts'
extend('index.html', {title, description})
%}

<header>
  <p class="text-larger">{{include('partials/feed-links.html')}}</p>
</header>

{%
for (const post of sortPosts(posts)) {
  const path = 'thoughts/' + post.slug
%}

  <h2>
    <a href="/{{path}}/">{{post.title}}</a>
  </h2>

  {% if (post.description) { %}
    <p>{{post.description}}</p>
  {% } else { %}
    <p>
      {{truncate(include(`${path}.md`, {extend: _.noop}), 127)}}
      <a href="/{{path}}/">â†’</a>
    </p>
  {% } %}

  <p class="text-gray text-smaller">
    {{post.date instanceof Date ? post.date.toDateString() : post.date}}
  </p>

{% } %}
