{%
const title = 'thoughts'
const image = 'aite.jpg'
const description = 'weblog, random thoughts'
%}

{% extend('index.html', {title, image, description}) %}

<div class="sf-jumbo" style="background-image: url(/images/{{image}})">
  <div class="row-between-end">
    <div class="flex-1">
      <h2>random thoughts</h2>
    </div>
    <div>
      {{include('partials/feed-links.html')}}
    </div>
  </div>
</div>

{%
_.each(sortPosts(posts), post => {
  const path = 'thoughts/' + post.name
%}
  <div>
    <h2 style="border-bottom: 1px dotted lightgray">
      <a href="/{{path}}/" class="block pad">{{post.title}}</a>
    </h2>
    <div class="container">
      {% if (post.description) { %}
        <p>{{post.description}}</p>
      {% } else { %}
        <p>
          {{truncate(include(`${path}.html`, {extend: _.noop}), 127)}}
          <a href="/{{path}}/">â†’</a>
        </p>
      {% } %}
      <p class="text-gray text-smaller">
        {{post.date instanceof Date ? post.date.toDateString() : post.date}}
      </p>
    </div>
  </div>
{% }) %}
