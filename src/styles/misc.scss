/********************************** Global ***********************************/

.fade {
  opacity: 0.5;
}

body {
  background-color: transparent;
  > :not(.sf-footer) {
    margin-bottom: $sf-space;
  }
  > :not(.sf-navbar):not(.sf-footer) {
    @include sf-shadow-thin;
    border-radius: $sf-border-radius;
    &.sf-jumbo {
      overflow: hidden;
    }
  }
  > .sf-navbar {
    border-bottom-left-radius: $sf-border-radius;
    border-bottom-right-radius: $sf-border-radius;
    > :first-child {
      border-bottom-left-radius: $sf-border-radius;
    }
    > :last-child {
      border-bottom-right-radius: $sf-border-radius;
    }
  }
  > .sf-footer .sf-footer-body {
    border-top-left-radius: $sf-border-radius;
    border-top-right-radius: $sf-border-radius;
  }
  > * {
    @extend .bg;
    &.sf-footer {
      background-color: transparent;
      box-shadow: none;
    }
  }
}

.bg, .sf-footer .sf-footer-body {
  background-color: $sf-color-background;
  @include sf-shadow-thin;
}

.text-capitalise {
  text-transform: capitalize;
}

.text-lowercase {
  text-transform: lowercase;
}

// Default to circle bullets.
ul {
  list-style-type: circle;
}

.shadow {
  @include sf-shadow-weak;
}

// Fix missing diff styles in the ir_black highlight.js definition.
.hljs-addition {color: lighten(#2b91af, 30%)}
.hljs-deletion {color: lighten(#a31515, 30%)}

.sf-collapse .sf-collapse-body {padding: 0}
.sf-collapse .sf-collapse-body pre {margin: 0}

// // Cosmetic.
// .sf-tabset, .sf-tab-body {
//   box-shadow: none;
//   outline: none;
//   border: none;
// }

// Heading anchor icon.
h1, h2, h3, h4, h5, h6 {
  .heading-anchor {
    margin-left: $sf-space / 2;
    visibility: hidden;
    opacity: 0;
    @include sf-transitions(all);
    color: inherit;
  }
  &:hover .heading-anchor, .heading-anchor:hover {
    visibility: visible;
    opacity: inherit;
  }
}

.sm-space-out {
  @include sf-eq-sm {@include sf-space-out-vertical;}
}

.pad-half {padding: $sf-space / 2}

pre.whitebox {
  padding: $sf-space / 2;
  .hljs {
    background: transparent;
    color: inherit;
  }
}

.space-out-half {
  @include sf-space-out-vertical($sf-space / 2);
}

// Anchor decorations.
a.fa {
  &, &:hover, &:active {
    border: none;
    box-shadow: none;
    background-color: transparent;
  }
}

a[target~=_blank] {
  article &, .sf-article &, &.indicate-blank {
    &:not(.fa)::after {
      // Icon.
      content: $fa-var-external-link;

      // Base icon styles.
      @extend .fa;

      // Cosmetic.
      margin-left: 0.3em;
      opacity: 0.5;
      font-size: 0.8em;
    }

    > .clamp {
      margin-bottom: 0;
      + * {
        margin-top: 0;
      }
    }
  }
}

/******************************** Components *********************************/

.pjax-loader::before {
  content: '';

  display: block;
  position: fixed;
  z-index: 100000;

  width: 0%;
  top: 0;
  bottom: 0;
  left: 0;
  height: 3px;

  background: gray;
  transition: width 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  animation: progress-bar linear infinite 2s;
}

/**
 * http://getmdl.io
 */
@keyframes progress-bar {
  0% {
    left: 0%;
    width: 0;
  }

  33% {
    left: 25%;
    width: 50%;
  }

  66% {
    left: 100%;
    width: 0;
  }
}

/********************************* Overrides *********************************/

.sf-jumbo {
  &:not(.auto) {
    height: auto;
    min-height: $sf-jumbo-height;
  }
  &.auto {
    height: auto;
  }
}

.sf-navbar {
  > .sf-dropdown {padding: 0}
  a {
    @include sf-transitions(all);
    &:hover, &:focus, &.active {
      box-shadow: inset 0 -4px 0 0;
      border-radius: 0;
    }
  }
}

.sf-footer {
  height: $sf-footer-height;

  .footer-button-up {
    @extend .sf-button;
    @extend .sf-button-flat;
    @extend .fa;
    @extend .fa-arrow-up;

    display: block;
    width: $sf-footer-height;
    height: $sf-footer-height;
    margin: (-$sf-space) (-$sf-space) (-$sf-space) 0;
  }
}
