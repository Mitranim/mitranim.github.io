/********************************** Global ***********************************/

.fade {
  opacity: 0.5;
}

body {
  background-color: transparent;
  > :not(.sf-footer) {
    margin-bottom: $sf-space;
  }
  > :not(.sf-navbar):not(.sf-footer) {
    @include sf-shadow-thin;
  }
  > * {
    @extend .bg;
    &.sf-footer {
      background-color: transparent;
      box-shadow: none;
    }
  }
}

.bg, .sf-footer .sf-footer-body {
  background-color: $sf-color-background;
  @include sf-shadow-thin;
}

.text-capitalise {
  text-transform: capitalize;
}

.text-lowercase {
  text-transform: lowercase;
}

// Default to circle bullets.
ul {
  list-style-type: circle;
}

.shadow {
  @include sf-shadow-weak;
}

// Fix missing diff styles in the ir_black highlight.js definition.
.hljs-addition {color: lighten(#2b91af, 30%)}
.hljs-deletion {color: lighten(#a31515, 30%)}

.sf-collapse .sf-collapse-body {padding: 0}
.sf-collapse .sf-collapse-body pre {margin: 0}

// Cosmetic.
.sf-tabset, .sf-tab {
  box-shadow: none;
  outline: none;
  border: none;
}

// Heading anchor icon.
h1, h2, h3, h4, h5, h6 {
  .heading-anchor {
    margin-left: $sf-space / 2;
    visibility: hidden;
    opacity: 0;
    @include sf-transitions(all);
    color: inherit;
  }
  &:hover .heading-anchor, .heading-anchor:hover {
    visibility: visible;
    opacity: inherit;
  }
}

.sm-space-out {
  @include sf-eq-sm {@include sf-space-out-vertical;}
}

.pad-half {padding: $sf-space / 2}

pre.whitebox {
  padding: $sf-space / 2;
  .hljs {
    background: transparent;
    color: inherit;
  }
}

/******************************** Components *********************************/

.pjax-loader::before {
  content: '';

  display: block;
  position: fixed;
  z-index: 100000;

  width: 0%;
  top: 0;
  bottom: 0;
  left: 0;
  height: 3px;

  background: gray;
  transition: width 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  animation: progress-bar linear infinite 2s;
}

/**
 * http://getmdl.io
 */
@keyframes progress-bar {
  0% {
    left: 0%;
    width: 0;
  }

  33% {
    left: 25%;
    width: 50%;
  }

  66% {
    left: 100%;
    width: 0;
  }
}

/********************************* Overrides *********************************/

.sf-jumbo {
  &:not(.auto) {
    height: auto;
    min-height: $sf-jumbo-height;
  }
  &.auto {
    height: auto;
  }
}

[class*=grid] {
  // Under consideration: narrow version that only goes up to two columns.
  &.narrow > * {
    @include sf-eq-sm {flex-basis: 100%}
    @include sf-gt-sm {flex-basis: 50%}
    @include sf-gt-md {flex-basis: 50%}
  }
  &.strict > * {
    @include sf-eq-sm {flex-basis: 100%}
    @include sf-gt-sm {flex-basis: 100%}
    @include sf-gt-md {flex-basis: 100%}
  }
}

.sf-navbar {
  > .sf-dropdown {padding: 0}
  a {
    @include sf-transitions(all);
    &:hover, &:focus, &.active {
      box-shadow: inset 0 -4px 0 0;
    }
  }
}

.sf-footer {
  height: $sf-footer-height;

  .footer-button-up {
    @extend .sf-button;
    @extend .sf-button.sf-button-flat;
    @extend .fa;
    @extend .fa-arrow-up;

    display: block;
    width: $sf-footer-height;
    height: $sf-footer-height;
    margin: (-$sf-space) (-$sf-space) (-$sf-space) 0;
  }
}
